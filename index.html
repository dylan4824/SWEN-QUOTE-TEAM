<html>
  <head>
    <title>The Name of a Thing</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
   <!-- <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>-->
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <!--<script src="jquery-2.1.4.min.js" charset="utf-8"></script>-->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  </head>
    <body>
      <div class="dropdown" align="center">
	<button class="btn btn-primary dropdown-toggle" id="menu1" type="button" data-toggle="dropdown">
	  Round
	  <span class="caret"</span></button>
	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu2" type="button" data-toggle="dropdown">
	  Season
	  <span class="caret"</span></button>

	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu3" type="button" data-toggle="dropdown">
	  Time
	  <span class="caret"</span></button>

	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu4" type="button" data-toggle="dropdown">
	  Home Team
	  <span class="caret"</span></button>
		
	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu5" type="button" data-toggle="dropdown">
	  Away Team
	  <span class="caret"</span></button>

	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu6" type="button" data-toggle="dropdown">
	  Home Score
	  <span class="caret"</span></button>

	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu7" type="button" data-toggle="dropdown">
	  Away Score
	  <span class="caret"</span></button>
	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu8" type="button" data-toggle="dropdown">
	  Venue
	  <span class="caret"</span></button>

	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu9" type="button" data-toggle="dropdown">
	  Overtime
	  <span class="caret"</span></button>

	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu10" type="button" data-toggle="dropdown">
	  Wins
	  <span class="caret"</span></button>

	<!------------------------------------->
	<button class="btn btn-primary dropdown-toggle" id="menu11" type="button" data-toggle="dropdown">
	  Losses
	  <span class="caret",</span></button>		
		
</div>
      
	<script>
var tables = ["2008-Table1.csv",
	      "2009-Table1.csv",
	      "2010-Table1.csv",
	      "2011-Table1.csv",
	      "2012-Table1.csv",
	      "2013-Table1.csv"
	     ]
var tableData = []
readData()

function readData(){
	for(var i = 0; i < tables.length; i++){
		readYear(i)
	}
}



function readYear (i){
	var x = d3.csv( "2010-Table1.csv", function(d) {
		if(d.Score != ""){
			return{
				Round: d.Round,
				Date: d.Date,
				Year: tables[i].replace(/(^\d+)(.+$)/i,'$1'),
				HomeTeam: d['Home Team'],
				AwayTeam: d['Away Team'],
				HomeScore: d.Score.match(/^\d+|\d+\b|\d+(?=\w)/g)[0],
				AwayScore: d.Score.match(/^\d+|\d+\b|\d+(?=\w)/g)[1],
				Overtime: !((typeof d.Score.match(/^\d+|\d+\b|\d+(?=\w)/g)[3]) === 'undefined'),
				Venue: d.Venue,
				Winner: winner(d.Score.match(/^\d+|\d+\b|\d+(?=\w)/g)[0], d.Score.match(/^\d+|\d+\b|\d+(?=\w)/g)[1], d['Home Team'], d['Away Team'])
			};
		}
    },function(error, table){
		//console.log(table)
		assign(table, i)
		//console.log(tableData)
	});
 }
 
 function assign(table, index){
	tableData[index] = table
 }

function winner(HomeScore, AwayScore, HomeTeam, AwayTeam){
  if(HomeScore > AwayScore){
    return HomeTeam 
  }
  return AwayTeam

}

function addMenuItems(){
    //magic number city, if a new menu item is added or removed this will need to be changed
    for (var i = 1; i < 12;i++){
	populateCurrentMenu(i,document.getElementById("menu"+i))
    }
}

function populateCurrentMenu (i, menu){
    switch (i) {
    case 1:
		menuOne(menu)
		break;
    case 2:
		menuTwo(getSeasons, menu)
		break;
    case 3:
		menuThree(getTime,menu)
		break;
    case 4:
		menuFour(getListOfTeams, menu)
		break;
    case 5:
		menuFive(getListOfTeams, menu)
		break;
    case 6:
		menuSix(getListOfHomeScores, menu)
		break;
    case 7:
		menuSeven(getListOfAwayScores, menu)
		break;
    case 8:
		menuEight(getListOfVenues, menu)
		break;
    case 9:
		menuNine(menu)
		break;
    case 10:
		menuTen(menu)
		break;
    case 11:
		menuEleven(menu)
		break;
    }
}
    function getListOfTeams() {}

    function menuOne(teams, menu){}
	
	  </script>
    </body>
</html>
